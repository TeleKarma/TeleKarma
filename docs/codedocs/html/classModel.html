<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Model Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Model Class Reference</h1><!-- doxytag: class="Model" --><code>#include &lt;<a class="el" href="model_8h-source.html">model.h</a>&gt;</code>
<p>
<div class="dynheader">
Collaboration diagram for Model:</div>
<div class="dynsection">
<p><center><img src="classModel__coll__graph.png" border="0" usemap="#Model__coll__map" alt="Collaboration graph"></center>
<map name="Model__coll__map">
<area shape="rect" id="node2" href="classModelListener.html" title="ModelListener" alt="" coords="5,6,109,34"><area shape="rect" id="node4" href="classAction.html" title="Action" alt="" coords="133,6,192,34"><area shape="rect" id="node6" href="classState.html" title="State" alt="" coords="216,6,269,34"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classModel-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#e3b375de5f6df4faf74a95d64748e048">Model</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default constructor.  <a href="#e3b375de5f6df4faf74a95d64748e048"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#0dfa7627123dd65d7593b72cf03901f9">Model</a> (int queueSize)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optional constructor.  <a href="#0dfa7627123dd65d7593b72cf03901f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#d6ebd2062a0b823db841a0b88baac4c0">~Model</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#1273906325b572fe38cc3c74c8f0f831">EnqueueAction</a> (<a class="el" href="classAction.html">Action</a> *action)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classAction.html">Action</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#49c672e91b844a13b8cbee1d2382a5b4">DequeueAction</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classState.html">State</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#a92abd0332df9f768033423b0cd8b3ae">DequeueState</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classState.html">State</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#aca96bcd2e019aad9c4d4d7203b77cce">GetState</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#8b2d324213cf67b2e139144a25c6e3c3">SetState</a> (<a class="el" href="classState.html">State</a> *newState)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#dca495055a5153c982891398d016e22d">SetListener</a> (<a class="el" href="classModelListener.html">ModelListener</a> *l)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#d45dc4b460f571d748905f1c19e88577">SetStunServer</a> (const PString &amp;val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the stun server address or hostname.  <a href="#d45dc4b460f571d748905f1c19e88577"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual PString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#8011462d91a258e49920db3b157c7af6">GetStunServer</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the stun server address or hostname.  <a href="#8011462d91a258e49920db3b157c7af6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#d2fd66a01c2cea8bc295567da8998733">SetStunType</a> (const PString &amp;val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the stun server type description.  <a href="#d2fd66a01c2cea8bc295567da8998733"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual PString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#6c040c5501c12f31f260280ea872b0b4">GetStunType</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the stun server type description.  <a href="#6c040c5501c12f31f260280ea872b0b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#437d34289432b9687d0bc2f65d89aa4f">SetRegistrar</a> (const PString &amp;val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the SIP server address or hostname.  <a href="#437d34289432b9687d0bc2f65d89aa4f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual PString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#5d7dd928f54ce00e04f1763728b9b85a">GetRegistrar</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the stun server type description.  <a href="#5d7dd928f54ce00e04f1763728b9b85a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#de7353a1170fbb7f587c069270be7f7a">SetUserName</a> (const PString &amp;val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the user name.  <a href="#de7353a1170fbb7f587c069270be7f7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual PString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#18c1848740876abd9544c870c6665879">GetUserName</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the user name.  <a href="#18c1848740876abd9544c870c6665879"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#e9a19897ea5d7d2417085a5d3a2a2f72">SetDestination</a> (const PString &amp;val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the call destination.  <a href="#e9a19897ea5d7d2417085a5d3a2a2f72"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual PString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#b4354c982ea5543a43f9dfc0874ece20">GetDestination</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the most recent call destination.  <a href="#b4354c982ea5543a43f9dfc0874ece20"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="classAccountList.html">AccountList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModel.html#a0be0a124810faa919249d9a51bde1f4">GetAccountList</a> (const PString &amp;fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to an <a class="el" href="classAccountList.html" title="Represents a persistant list of SIP service provider accounts.">AccountList</a> object attached to the given file.  <a href="#a0be0a124810faa919249d9a51bde1f4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="classTeleKarma.html">TeleKarma</a> NG <a class="el" href="classModel.html">Model</a> superclass. <p>
The <a class="el" href="classModel.html">Model</a> holds system state and related data. Notably, the model stores the current state of the system, a queue of action requests generated by the <a class="el" href="classView.html" title="Abstract superclass for all TeleKarma views.">View</a> and a queue of error messages generated by the <a class="el" href="classController.html">Controller</a>. <p>
The <a class="el" href="classModel.html">Model</a> is designed to be robust and easy to use in multithreaded environments. All mutable internal fields are protected by private mutexes to prevent reading of those fields in an inconsistent state. <p>
<b>Memory Management</b> <p>
It is critically important for developers utilizing methods of this class to read and understand the documentation for each method used. Method documentation discusses the caller's memory management responsibilities. These responsibilities vary depending on which method is being used. <p>
<b>Thread Safety</b> <p>
This class is thread-safe when used properly. Extend this class with great care to preserve its thread-safe attributes. This class is designed to share information between threads. This mission motivates a concurrency-aware design that makes a best effort to prevent concurrency errors. However, this class does not prevent all possible concurrency errors that are potentially associated with its use. Developers must read and understand the documentation associated with each method. <p>
<b>Dependencies</b> <p>
All <a class="el" href="classState.html">State</a> classes must correctly implement a clone method that returns a pointer to a new and complete copy of the object. This method must never return a pointer to a copy of the object shared with another caller and must not retain a copy of the pointer returned.  <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="e3b375de5f6df4faf74a95d64748e048"></a><!-- doxytag: member="Model::Model" ref="e3b375de5f6df4faf74a95d64748e048" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::Model           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default constructor. 
<p>
Creates a model with action and error message queues of fixed size equal to <a class="el" href="model_8h.html#142810068f1b99cd93d3fc9f0e160e02">QUEUE_SIZE</a>. 
</div>
</div><p>
<a class="anchor" name="0dfa7627123dd65d7593b72cf03901f9"></a><!-- doxytag: member="Model::Model" ref="0dfa7627123dd65d7593b72cf03901f9" args="(int queueSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::Model           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>queueSize</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Optional constructor. 
<p>
Creates a model with action and error message queues of fixed size specified by the caller using the queueSize parameter. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queueSize</em>&nbsp;</td><td>how big to make the queues. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d6ebd2062a0b823db841a0b88baac4c0"></a><!-- doxytag: member="Model::~Model" ref="d6ebd2062a0b823db841a0b88baac4c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Model::~Model           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Virtual destructor. Deallocates: <ol>
<li>
All internally allocated memory. </li>
<li>
The memory allocated to the current state. </li>
<li>
The memory allocated to any <a class="el" href="classAction.html">Action</a> objects remaining in the action queue. </li>
<li>
The memory allocated to any error messages remaining in the error message queue. </li>
</ol>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="49c672e91b844a13b8cbee1d2382a5b4"></a><!-- doxytag: member="Model::DequeueAction" ref="49c672e91b844a13b8cbee1d2382a5b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAction.html">Action</a> * Model::DequeueAction           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dequeues and returns a pointer to an <a class="el" href="classAction.html">Action</a>. <p>
<b>Memory Management</b> <p>
The caller assumes responsibility for deallocating the memory addressed by the pointer returned by this method. That memory should be deallocated using delete. The caller may deallocate the memory at a time of the caller's choosing. <p>
<b>Thread Safety</b> <p>
This method is intended for use by a single consumer thread (the <a class="el" href="classController.html">Controller</a>). It may be used by multiple consumer threads without endangering built-in thread safety features. An enqueued pointer is never returned more than once, so multiple consumers cannot gain access to the same object solely by using this method. Callers must deallocate, and are free to modify, the memory addressed by the pointer returned by this method. Failure to adhere to these guidelines may defeat the thread safety features of this class. <p>
Override this method at your own risk!!  <dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer to a previously enqueued <a class="el" href="classAction.html">Action</a> or NULL if the queue is empty. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a92abd0332df9f768033423b0cd8b3ae"></a><!-- doxytag: member="Model::DequeueState" ref="a92abd0332df9f768033423b0cd8b3ae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classState.html">State</a> * Model::DequeueState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dequeues and returns a pointer to a state. States are dequeued in the order they were set. <p>
<b>Memory Management</b> <p>
The caller assumes responsibility for deallocating the memory addressed by the pointer returned by this method. That memory should be deallocated using delete. The caller may deallocate the memory at a time of the caller's choosing. <p>
<b>Thread Safety</b> <p>
This method is intended for use by a single consumer thread (the <a class="el" href="classView.html" title="Abstract superclass for all TeleKarma views.">View</a>). It may be used by multiple consumer threads without endangering built-in thread safety features. An enqueued pointer is never returned more than once, so multiple consumers cannot gain access to the same object solely by using this method. Callers must deallocate, and are free to modify, the memory addressed by the pointer returned by this method. Failure to adhere to these guidelines may defeat the thread safety features of this class. <p>
Override this method at your own risk!!  <dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer to a previously enqueued state or NULL if the queue is empty. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1273906325b572fe38cc3c74c8f0f831"></a><!-- doxytag: member="Model::EnqueueAction" ref="1273906325b572fe38cc3c74c8f0f831" args="(Action *action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Model::EnqueueAction           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classAction.html">Action</a> *&nbsp;</td>
          <td class="paramname"> <em>action</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enqueues an action. <p>
<b>Memory Management</b> <p>
This class assumes responsibility for deallocating the memory addressed by the action parameter if and only if this method returns true. The caller retains responsibility for deallocating the memory addressed by the action parameter if this method returns false, and is free to do so at a time of the caller's choosing. <p>
<b>Thread Safety</b> <p>
This method is intended for use by a single producer thread (the <a class="el" href="classView.html" title="Abstract superclass for all TeleKarma views.">View</a>). It may be used by multiple producer threads without endangering its thread safety features. Callers <b>must not modify or deallocate</b> the memory allocated to the pointer passed into this method after calling this method. The pointer passed into this method must be a pointer to memory on the heap. Failure to adhere to these guidelines may defeat the thread safety features of this class. <p>
This class stores the pointer passed to this method and may share that pointer with a consumer. This method does not make a copy the memory addressed by the pointer. <p>
Override this method at your own risk!!  <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>action</em>&nbsp;</td><td>pointer to an <a class="el" href="classAction.html">Action</a> object on the heap. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>false if the pointer cannot be enqueued because the queue is full; true otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a0be0a124810faa919249d9a51bde1f4"></a><!-- doxytag: member="Model::GetAccountList" ref="a0be0a124810faa919249d9a51bde1f4" args="(const PString &amp;fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAccountList.html">AccountList</a> * Model::GetAccountList           </td>
          <td>(</td>
          <td class="paramtype">const PString &amp;&nbsp;</td>
          <td class="paramname"> <em>fname</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a pointer to an <a class="el" href="classAccountList.html" title="Represents a persistant list of SIP service provider accounts.">AccountList</a> object attached to the given file. 
<p>
Note that no concurrency support is provided - this method assumes one caller and one call. Caller is responsible for deleting the returned object. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fname</em>&nbsp;</td><td>path to and name of file containing accounts. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>an <a class="el" href="classAccountList.html" title="Represents a persistant list of SIP service provider accounts.">AccountList</a> with at least one <a class="el" href="classAccount.html" title="Represents a user&#39;s account with a SIP service provider.">Account</a>. If the file does not exist or cannot be opened, the <a class="el" href="classAccountList.html" title="Represents a persistant list of SIP service provider accounts.">AccountList</a> will contain a single <a class="el" href="classAccount.html" title="Represents a user&#39;s account with a SIP service provider.">Account</a> where all values are the empty string. </dd></dl>

</div>
</div><p>
<a class="anchor" name="b4354c982ea5543a43f9dfc0874ece20"></a><!-- doxytag: member="Model::GetDestination" ref="b4354c982ea5543a43f9dfc0874ece20" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PString Model::GetDestination           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the most recent call destination. 
<p>
Makes a unique copy for the exclusive use of the caller. Caller is responsible for deleting the copy produced. 
</div>
</div><p>
<a class="anchor" name="5d7dd928f54ce00e04f1763728b9b85a"></a><!-- doxytag: member="Model::GetRegistrar" ref="5d7dd928f54ce00e04f1763728b9b85a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PString Model::GetRegistrar           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the stun server type description. 
<p>
Makes a unique copy for the exclusive use of the caller. Caller is responsible for deleting the copy produced. 
</div>
</div><p>
<a class="anchor" name="aca96bcd2e019aad9c4d4d7203b77cce"></a><!-- doxytag: member="Model::GetState" ref="aca96bcd2e019aad9c4d4d7203b77cce" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classState.html">State</a> * Model::GetState           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a copy of the current <a class="el" href="classState.html">State</a> object. <p>
<b>Memory Management</b> <p>
The caller assumes responsibility for deallocating the memory addressed by the pointer returned by this method. That memory should be deallocated using delete. The caller may deallocate the memory at a time of the caller's choosing. <p>
<b>Thread Safety</b> <p>
This method makes a copy of the current <a class="el" href="classState.html">State</a> on the heap using that State's clone() method and returns a pointer to the copy. Provided that the <a class="el" href="classState.html">State</a> is implemented properly (see class overview documentation), it is not possible for two calls to this method to obtain a pointer to the same copy of a <a class="el" href="classState.html">State</a>. This assures thread safety outside of this method and relieves the caller of any responsibility for synchronizing access to the returned memory block.  <dl class="return" compact><dt><b>Returns:</b></dt><dd>a pointer to a unique copy of the current <a class="el" href="classState.html">State</a> object or NULL if the current <a class="el" href="classState.html">State</a> is undefined. </dd></dl>

</div>
</div><p>
<a class="anchor" name="8011462d91a258e49920db3b157c7af6"></a><!-- doxytag: member="Model::GetStunServer" ref="8011462d91a258e49920db3b157c7af6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PString Model::GetStunServer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the stun server address or hostname. 
<p>
Makes a unique copy for the exclusive use of the caller. Caller is responsible for deleting the copy produced. 
</div>
</div><p>
<a class="anchor" name="6c040c5501c12f31f260280ea872b0b4"></a><!-- doxytag: member="Model::GetStunType" ref="6c040c5501c12f31f260280ea872b0b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PString Model::GetStunType           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the stun server type description. 
<p>
Makes a unique copy for the exclusive use of the caller. Caller is responsible for deleting the copy produced. 
</div>
</div><p>
<a class="anchor" name="18c1848740876abd9544c870c6665879"></a><!-- doxytag: member="Model::GetUserName" ref="18c1848740876abd9544c870c6665879" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PString Model::GetUserName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the user name. 
<p>
Makes a unique copy for the exclusive use of the caller. Caller is responsible for deleting the copy produced. 
</div>
</div><p>
<a class="anchor" name="e9a19897ea5d7d2417085a5d3a2a2f72"></a><!-- doxytag: member="Model::SetDestination" ref="e9a19897ea5d7d2417085a5d3a2a2f72" args="(const PString &amp;val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Model::SetDestination           </td>
          <td>(</td>
          <td class="paramtype">const PString &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the call destination. 
<p>
Copies the provided value. No expectation of update upon disconnection, but set upon each dialing. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>call destination. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="dca495055a5153c982891398d016e22d"></a><!-- doxytag: member="Model::SetListener" ref="dca495055a5153c982891398d016e22d" args="(ModelListener *l)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Model::SetListener           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classModelListener.html">ModelListener</a> *&nbsp;</td>
          <td class="paramname"> <em>l</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the sole listener class. The OnStateChange() method of this class will be called each time the state is updated using <a class="el" href="classModel.html#8b2d324213cf67b2e139144a25c6e3c3">SetState(State *)</a>.  <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>l</em>&nbsp;</td><td>a listener class. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="437d34289432b9687d0bc2f65d89aa4f"></a><!-- doxytag: member="Model::SetRegistrar" ref="437d34289432b9687d0bc2f65d89aa4f" args="(const PString &amp;val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Model::SetRegistrar           </td>
          <td>(</td>
          <td class="paramtype">const PString &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the SIP server address or hostname. 
<p>
Copies the provided value. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>SIP server address or hostname. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8b2d324213cf67b2e139144a25c6e3c3"></a><!-- doxytag: member="Model::SetState" ref="8b2d324213cf67b2e139144a25c6e3c3" args="(State *newState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Model::SetState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classState.html">State</a> *&nbsp;</td>
          <td class="paramname"> <em>newState</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets and enqueues the current state. <p>
<b>Memory Management</b> <p>
This class assumes responsibility for deallocating the memory addressed by the pointer passed to this method. <p>
<b>Thread Safety</b> <p>
Callers <b>must not modify or deallocate</b> the memory allocated to the pointer passed into this method after calling this method. The pointer passed into this method must be a pointer to memory on the heap. Failure to adhere to these guidelines may defeat the thread safety features of this class. <p>
This class stores the pointer passed to this method and makes that pointer available via <a class="el" href="classModel.html#aca96bcd2e019aad9c4d4d7203b77cce">GetState()</a>. This call also invokes the clone() method of <a class="el" href="classState.html">State</a> to make a distinct copy of the state for the queue.  <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newState</em>&nbsp;</td><td>the new state. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>if the new state was successfully enqueued; false indicates the current state was set but could not be enqueued (the state queue is full). </dd></dl>

</div>
</div><p>
<a class="anchor" name="d45dc4b460f571d748905f1c19e88577"></a><!-- doxytag: member="Model::SetStunServer" ref="d45dc4b460f571d748905f1c19e88577" args="(const PString &amp;val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Model::SetStunServer           </td>
          <td>(</td>
          <td class="paramtype">const PString &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the stun server address or hostname. 
<p>
Copies the provided value. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>stun server address or hostname. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d2fd66a01c2cea8bc295567da8998733"></a><!-- doxytag: member="Model::SetStunType" ref="d2fd66a01c2cea8bc295567da8998733" args="(const PString &amp;val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Model::SetStunType           </td>
          <td>(</td>
          <td class="paramtype">const PString &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the stun server type description. 
<p>
Copies the provided value. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>stun server type description. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="de7353a1170fbb7f587c069270be7f7a"></a><!-- doxytag: member="Model::SetUserName" ref="de7353a1170fbb7f587c069270be7f7a" args="(const PString &amp;val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Model::SetUserName           </td>
          <td>(</td>
          <td class="paramtype">const PString &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the user name. 
<p>
Copies the provided value. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>user name. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="model_8h-source.html">model.h</a><li><a class="el" href="model_8cpp.html">model.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 1 20:38:59 2010 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
