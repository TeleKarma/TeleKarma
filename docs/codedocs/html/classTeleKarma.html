<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>TeleKarma Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TeleKarma Class Reference</h1><!-- doxytag: class="TeleKarma" --><!-- doxytag: inherits="Controller" --><code>#include &lt;<a class="el" href="telekarma_8h-source.html">telekarma.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for TeleKarma:</div>
<div class="dynsection">
<p><center><img src="classTeleKarma__inherit__graph.png" border="0" usemap="#TeleKarma__inherit__map" alt="Inheritance graph"></center>
<map name="TeleKarma__inherit__map">
<area shape="rect" id="node2" href="classController.html" title="Controller" alt="" coords="9,6,89,34"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for TeleKarma:</div>
<div class="dynsection">
<p><center><img src="classTeleKarma__coll__graph.png" border="0" usemap="#TeleKarma__coll__map" alt="Collaboration graph"></center>
<map name="TeleKarma__coll__map">
<area shape="rect" id="node2" href="classController.html" title="Controller" alt="" coords="125,209,205,237"><area shape="rect" id="node4" href="classModel.html" title="Model" alt="" coords="133,115,192,143"><area shape="rect" id="node6" href="classModelListener.html" title="ModelListener" alt="" coords="5,6,109,34"><area shape="rect" id="node8" href="classAction.html" title="Action" alt="" coords="133,6,192,34"><area shape="rect" id="node10" href="classState.html" title="State" alt="" coords="216,6,269,34"><area shape="rect" id="node12" href="classTelephonyIfc.html" title="This class is the interface between telekarama and the Opal telephony library." alt="" coords="231,209,329,237"><area shape="rect" id="node14" href="classTkPCSSEndPoint.html" title="TkPCSSEndPoint" alt="" coords="216,115,344,143"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classTeleKarma-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeleKarma.html#ffedc7e09446314b687922735cd7818f">TeleKarma</a> (<a class="el" href="classModel.html">Model</a> *<a class="el" href="classController.html#6f6ea54052742d3940adfcfce885bae9">model</a>)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#ffedc7e09446314b687922735cd7818f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTeleKarma.html#addd554bf6335422cc896c894005a031">Main</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The <a class="el" href="classTeleKarma.html">TeleKarma</a> class provides the "main" function for the <a class="el" href="classTeleKarma.html">TeleKarma</a> application and provides the interface through which state handler objects access information and take action. <p>
The Main function, which is invoked by PTLib tools from <a class="el" href="main_8cpp.html">main.cpp</a>, sets up state handler objects, sets the initial state, and enters a loop that invokes the <a class="el" href="">StateHandler#In()</a> method and sleeps for <a class="el" href="telekarma_8h.html#4af2a8a383f07fec0d9f78f2db1c987a">SLEEP_DURATION</a> milliseconds. <p>
All other methods support state handler methods, which for the sake of modularity have access to this class, but are not provided direct access to the telephony interface or other resources.  <hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="ffedc7e09446314b687922735cd7818f"></a><!-- doxytag: member="TeleKarma::TeleKarma" ref="ffedc7e09446314b687922735cd7818f" args="(Model *model)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TeleKarma::TeleKarma           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classModel.html">Model</a> *&nbsp;</td>
          <td class="paramname"> <em>model</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
Initializes fields. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>model</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="addd554bf6335422cc896c894005a031"></a><!-- doxytag: member="TeleKarma::Main" ref="addd554bf6335422cc896c894005a031" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TeleKarma::Main           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Main program logic. Verifies existance of required subfolders, sets up log files, instantiate state handler objects, sets the initial state handler and enters main control loop. <p>
Main control loop simply calls the <a class="el" href="">StateHandler#In()</a> method, then sleeps, then repeats, until the state handler is set to an instance of <a class="el" href="">ExitStateHandler</a>. States call the <a class="el" href="">EnterState(int)</a> method to change TeleKarma's state.  
<p>Implements <a class="el" href="classController.html#efeb521047c5b5d1c3f97290d015cacf">Controller</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="telekarma_8h-source.html">telekarma.h</a><li><a class="el" href="telekarma_8cpp.html">telekarma.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Dec 1 20:39:00 2010 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
